<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reserve or Find Your Booking | Casa Bocobo Hotel</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body class="booking-page-body">
    <header class="main-header">
        <nav class="navbar">
            <a href="index.html" class="logo-area"><img src="https://s3.ap-south-1.amazonaws.com/buzz.beconf.test/casa-bocobo-hotel/casa-bocobo-hotel-logo.png?_cache=1677736098" alt="Casa Bocobo Hotel Logo"></a>
            <div class="nav-controls">
                
                <div class="currency-switcher-container" id="currency-switcher-container">
                    <button type="button" class="currency-switcher-selected" id="currency-switcher-btn">
                        <span id="selected-currency-label">PHP (₱)</span>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                        </svg>
                    </button>
                    <ul class="currency-switcher-dropdown" id="currency-switcher-dropdown">
                        <li class="loading-rates">Loading currencies...</li>
                    </ul>
                </div>
                <a href="index.html" class="cta-button nav-cta">← Back to Home</a>
            </div>
        </nav>
    </header>
    <main class="booking-container">
        <form id="booking-form" class="booking-form">
            <div class="form-section find-booking-section">
                <h3>Find My Reservation</h3>
                <div class="form-group">
                    <label for="find-ref-number">Enter your Reference Number</label>
                    <div class="find-booking-input-group">
                        <input type="text" id="find-ref-number" placeholder="e.g., CBH-123456">
                        <button type="button" id="find-booking-btn" class="cta-button">Find</button>
                    </div>
                </div>
            </div>

            <h2 class="booking-page-title">Book a New Stay</h2>
            <div class="form-section fade-in-section"><h3><span class="step-number">1</span> Select Dates & Guests</h3><div class="dates-guests-grid"><div class="form-group"><label for="checkin-date">Check-in</label><input type="date" id="checkin-date" required></div><div class="form-group"><label for="checkout-date">Check-out</label><input type="date" id="checkout-date" required></div><div class="form-group"><label for="adults">Adults</label><input type="number" id="adults" value="2" min="1" required></div><div class="form-group"><label for="children">Children</label><input type="number" id="children" value="0" min="0"></div></div></div>
            <div class="form-section fade-in-section"><h3><span class="step-number">2</span> Choose Your Room</h3><div id="room-selection" class="room-selection-grid"><p class="loading-text">Please select your dates to view available rooms.</p></div></div>
            
            <div class="form-section fade-in-section" id="addons-section">
                <h3><span class="step-number">3</span> Optional Add-ons</h3>
                <div class="addons-grid">
                    <div class="addon-card">
                        <label for="addon-bed-sheet">
                            <span class="addon-title">Additional Bed Sheet</span>
                            <span class="addon-desc">Extra set of clean bed sheets.</span>
                        </label>
                        <input type="checkbox" id="addon-bed-sheet" data-price-php="300">
                    </div>
                    <div class="addon-card">
                        <label for="addon-wine">
                            <span class="addon-title">Hotel Wine</span>
                            <span class="addon-desc">A fine bottle of house red wine.</span>
                        </label>
                        <input type="checkbox" id="addon-wine" data-price-php="1200">
                    </div>
                    <div class="addon-card">
                        <label for="addon-massage">
                            <span class="addon-title">Therapeutic Massage</span>
                            <span class="addon-desc">A 60-minute in-room massage.</span>
                        </label>
                        <input type="checkbox" id="addon-massage" data-price-php="700">
                    </div>
                    <div class="addon-card">
                        <label for="addon-transport">
                            <span class="addon-title">Airport Transfer</span>
                            <span class="addon-desc">Convenient one-way transport.</span>
                        </label>
                        <input type="checkbox" id="addon-transport" data-price-php="2350">
                    </div>
                </div>
            </div>
            <div class="form-section fade-in-section"><h3><span class="step-number">4</span> Guest Details</h3><div class="guest-details-grid"><div class="form-group"><label for="full-name">Full Name</label><input type="text" id="full-name" required placeholder="e.g., Juan Dela Cruz"></div><div class="form-group"><label for="email">Email Address</label><input type="email" id="email" required placeholder="you@example.com"></div><div class="form-group"><label for="phone">Phone Number</label><input type="tel" id="phone" required placeholder="0917-123-4567"></div></div><div class="form-group special-requests-group"><label for="special-requests">Special Requests (Optional)</label><textarea id="special-requests" rows="3" placeholder="e.g., high floor, near elevator..."></textarea></div></div>
            <div class="form-section fade-in-section policy-section"><h3><span class="step-number">5</span> Policies & Consent</h3><div class="policy-content"><h4>Reservation & Cancellation Policy</h4><ul><li>Check-in: <strong>2:00 PM</strong>, Check-out: <strong>12:00 PM</strong>.</li><li>No penalty for cancellations made at least <strong>24 hours</strong> prior to check-in.</li><li>Late cancellation or no-show fee is equivalent to a one-night stay.</li></ul></div><div class="consent-checkbox-container"><input type="checkbox" id="consent-checkbox"><label for="consent-checkbox">I have read and agree to the hotel's policies.</label></div></div>
        </form>
        <aside class="booking-summary-container"><div id="booking-summary" class="booking-summary"><h3>Your Booking Summary</h3><div class="summary-item"><p><strong>Room:</strong></p><span id="summary-room-name">Not selected</span></div><div class="summary-item"><p><strong>Check-in:</strong></p><span id="summary-checkin">--</span></div><div class="summary-item"><p><strong>Check-out:</strong></p><span id="summary-checkout">--</span></div><div class="summary-item"><p><strong>Guests:</strong></p><span id="summary-guests">--</span></div><hr><div class="summary-calculation"><div class="summary-item"><p id="summary-nights-text">Room Subtotal:</p><span id="summary-room-cost">₱0.00</span></div><div class="summary-item"><p>Add-ons:</p><span id="summary-addons-cost">₱0.00</span></div></div><div class="summary-total"><h4>Total</h4><h4 id="summary-total-cost">₱0.00</h4></div><button type="button" id="confirm-booking-btn" class="cta-button" disabled>Complete Reservation</button></div></aside>
    </main>
    <div id="confirmation-modal" class="modal-overlay"><div class="modal-content"><span class="close-modal">&times;</span><div class="modal-icon-wrapper"><svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52"><circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/><path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/></svg></div><h2>Booking Confirmed!</h2><p>Your stay is secured. A confirmation email has been sent.</p><div class="modal-actions"><button class="cta-button secondary" id="view-receipt-btn">View Receipt</button><button class="cta-button" id="close-confirm-btn">Done</button></div></div></div>
    <div id="receipt-modal" class="modal-overlay"><div class="modal-content receipt-modal-content"><span class="close-modal">&times;</span><div id="receipt-capture-area"><h3>Booking Receipt</h3><div class="receipt-details"><div class="receipt-item"><span>Reference Number:</span><strong id="ref-number"></strong></div><div class="receipt-item"><span>Guest Name:</span><strong id="receipt-name"></strong></div><div class="receipt-item"><span>Room Type:</span><strong id="receipt-room"></strong></div><div class="receipt-item"><span>Check-in:</span><strong id="receipt-checkin"></strong></div><div class="receipt-item"><span>Check-out:</span><strong id="receipt-checkout"></strong></div><div class="receipt-item total"><span>Total Amount:</span><strong id="receipt-total"></strong></div></div><p class="receipt-footer">Thank you for choosing Casa Bocobo Hotel!</p></div><div class="modal-actions"><button class="cta-button secondary" id="download-receipt-btn">Download Receipt</button><button class="cta-button" id="close-receipt-btn">Close</button></div></div></div>

    <div id="booking-details-modal" class="modal-overlay">
        <div class="modal-content receipt-modal-content">
            <span class="close-modal">&times;</span>
            <h3>Your Booking Details</h3>
            <div class="receipt-details">
                <div class="receipt-item"><span>Reference Number:</span><strong id="details-ref"></strong></div>
                <div class="receipt-item"><span>Guest Name:</span><strong id="details-name"></strong></div>
                <div class="receipt-item"><span>Room Type:</span><strong id="details-room"></strong></div>
                <div class="receipt-item"><span>Check-in:</span><strong id="details-checkin"></strong></div>
                <div class="receipt-item"><span>Check-out:</span><strong id="details-checkout"></strong></div>
                <div class="receipt-item total"><span>Total Amount:</span><strong id="details-total"></strong></div>
            </div>
            <div class="cancellation-policy-reminder">
                <p><strong>Cancellation Policy:</strong> No penalty for cancellations made at least 24 hours prior to check-in. Late cancellations or no-shows will incur a fee equivalent to a one-night stay.</p>
                <p id="cancellation-status" class="status-safe"></p>
            </div>
            <div class="modal-actions">
                <button class="cta-button danger" id="cancel-reservation-btn">Cancel Reservation</button>
            </div>
        </div>
    </div>

    <div id="cancel-confirm-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Are you sure?</h2>
            <p>This action cannot be undone. Are you sure you want to cancel your reservation?</p>
            <div class="modal-actions">
                <button class="cta-button secondary" id="nevermind-cancel-btn">Nevermind</button>
                <button class="cta-button danger" id="confirm-cancel-btn">Yes, Cancel</button>
            </div>
        </div>
    </div>
    
    <script src="booking.js"></script>
</body>
</html>